<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>AquaVision</title>
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&display=swap"
        rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#1193d4",
                        "background-light": "rgb(224 233 241);",
                        "background-dark": "#101c22",
                    },
                    fontFamily: {
                        "display": ["Space Grotesk", "sans-serif"]
                    },
                    borderRadius: {
                        "DEFAULT": "0.25rem",
                        "lg": "0.5rem",
                        "xl": "0.75rem",
                        "full": "9999px"
                    },
                },
            },
        }
    </script>
    <style>
        /* CSS DE LA TRANSITION (Version Gooey / ScaleY) */
        .transition-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            z-index: 9999;
            pointer-events: none;
            display: flex;
            filter: url('#goo');
            padding: 0 -10px;
        }

        .transition-strip {
            flex: 1;
            height: 100%;
            background-color: #101c22;
            transform: scaleY(0);
            transform-origin: top;
            margin: 0 -5px;
        }

        .background-video {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 100%;
            height: 100%;
            object-fit: cover;
            transform: translate(-50%, -50%);
            z-index: -1;
            opacity: 0.15;
        }

        /* CSS POUR LES LIENS DE NAVIGATION (Rolling Text) */
        .nav-roll {
            position: relative;
            overflow: hidden;
            display: inline-block;
            line-height: 1.2;
            /* Ajustement pour éviter les coupures */
            text-decoration: none;
        }

        /* Le texte original */
        .nav-roll span {
            display: block;
            transition: transform 0.4s cubic-bezier(0.76, 0, 0.24, 1);
        }

        /* Le clone du texte (invisible au départ, en bas) */
        .nav-roll::after {
            content: attr(data-text);
            /* Récupère le texte de l'attribut HTML */
            position: absolute;
            top: 100%;
            left: 0;
            width: 100%;
            height: 100%;
            transition: transform 0.4s cubic-bezier(0.76, 0, 0.24, 1);
            color: #1193d4;
            /* Couleur Primary (le bleu de ton site) */
        }

        /* Au survol : on monte les deux */
        .nav-roll:hover span {
            transform: translateY(-100%);
        }

        .nav-roll:hover::after {
            transform: translateY(-100%);
        }
    </style>
</head>

<body data-barba="wrapper"
    class="bg-background-light dark:bg-background-dark font-display text-gray-800 dark:text-gray-200">

    <div id="splash-screen" class="fixed inset-0 z-50 pointer-events-none">
        <div id="splash-bg" class="absolute inset-0 bg-background-light dark:bg-background-dark w-full h-full"></div>

        <div id="splash-content"
            class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 flex items-center gap-3 text-primary z-10">
            <div class="size-16 z-20 relative">
                <svg fill="none" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_intro)">
                        <path
                            d="M8.57829 8.57829C5.52816 11.6284 3.451 15.5145 2.60947 19.7452C1.76794 23.9758 2.19984 28.361 3.85056 32.3462C5.50128 36.3314 8.29667 39.7376 11.8832 42.134C15.4698 44.5305 19.6865 45.8096 24 45.8096C28.3135 45.8096 32.5302 44.5305 36.1168 42.134C39.7033 39.7375 42.4987 36.3314 44.1494 32.3462C45.8002 28.361 46.2321 23.9758 45.3905 19.7452C44.549 15.5145 42.4718 11.6284 39.4217 8.57829L24 24L8.57829 8.57829Z"
                            fill="currentColor"></path>
                    </g>
                    <defs>
                        <clipPath id="clip0_intro">
                            <rect fill="white" height="48" width="48"></rect>
                        </clipPath>
                    </defs>
                </svg>
            </div>

            <div class="overflow-hidden z-10">
                <h2 id="splash-text" class="text-4xl font-bold translate-x-[-120%] opacity-0 whitespace-nowrap">
                    AquaVision</h2>
            </div>
        </div>
    </div>

    <svg style="visibility: hidden; position: absolute;" width="0" height="0" xmlns="http://www.w3.org/2000/svg"
        version="1.1">
        <defs>
            <filter id="goo">
                <feGaussianBlur in="SourceGraphic" stdDeviation="15" result="blur" />
                <feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 25 -9"
                    result="goo" />
                <feComposite in="SourceGraphic" in2="goo" operator="atop" />
            </filter>
        </defs>
    </svg>

    <div class="transition-overlay">
        <div class="transition-strip"></div>
        <div class="transition-strip"></div>
        <div class="transition-strip"></div>
        <div class="transition-strip"></div>
        <div class="transition-strip"></div>
        <div class="transition-strip"></div>
        <div class="transition-strip"></div>
    </div>

    <div data-barba="container" data-barba-namespace="home" class="relative min-h-screen w-full flex flex-col">

        <header id="site-header"
            class="opacity-0 fixed top-0 left-0 right-0 z-10 flex items-center justify-between whitespace-nowrap px-10 py-4 bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-sm border-b border-primary/20">

            <div id="header-logo-container" class="flex items-center gap-3 text-primary">
                <div class="size-8">
                    <svg fill="none" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_6_319)">
                            <path
                                d="M8.57829 8.57829C5.52816 11.6284 3.451 15.5145 2.60947 19.7452C1.76794 23.9758 2.19984 28.361 3.85056 32.3462C5.50128 36.3314 8.29667 39.7376 11.8832 42.134C15.4698 44.5305 19.6865 45.8096 24 45.8096C28.3135 45.8096 32.5302 44.5305 36.1168 42.134C39.7033 39.7375 42.4987 36.3314 44.1494 32.3462C45.8002 28.361 46.2321 23.9758 45.3905 19.7452C44.549 15.5145 42.4718 11.6284 39.4217 8.57829L24 24L8.57829 8.57829Z"
                                fill="currentColor"></path>
                        </g>
                        <defs>
                            <clipPath id="clip0_6_319">
                                <rect fill="white" height="48" width="48"></rect>
                            </clipPath>
                        </defs>
                    </svg>
                </div>
                <h2 class="text-xl font-bold">AquaVision</h2>
            </div>

            <nav class="hidden md:flex absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 items-center gap-8">

                <a class="nav-roll text-sm font-medium text-gray-800 dark:text-gray-200" href="landing_page.html"
                    data-text="Accueil">
                    <span>Accueil</span>
                </a>

                <a class="nav-roll text-sm font-medium text-gray-800 dark:text-gray-200" href="#"
                    data-text="Carte Interactive">
                    <span>Carte Interactive</span>
                </a>

                <a class="nav-roll text-sm font-medium text-gray-800 dark:text-gray-200" href="graph.html"
                    data-text="Graphiques">
                    <span>Graphiques</span>
                </a>

                <a class="nav-roll text-sm font-medium text-gray-800 dark:text-gray-200" href="#" data-text="Contact">
                    <span>Contact</span>
                </a>

            </nav>

            <div class="flex items-center gap-8">
            </div>
        </header>

        <main id="hero-content" class="opacity-0 flex-grow px-10 py-24 sm:px-6 lg:px-8">
            <div class="relative w-full h-full">
                <div class="absolute inset-0 bg-cover bg-center"
                    style='background-image: linear-gradient(rgba(16, 28, 34, 0.5) 0%, rgba(16, 28, 34, 0.8) 100%), url("https://lh3.googleusercontent.com/aida-public/AB6AXuCjqkPUma_WlNqxBQeC9Ybb6k00xSO18PTv3VUFIcus_RLkCGHEusavqfXbiRBGMbIEfVrbkwSbYm8-e3DSYkGwvX9Rsae0W88QgLIJsWGcNR7WeE2HaeA9rH1m9s0eXhAkauDWVghlF73tQiienMcqHXPJHxiRDtMW4Vx4sNgxhSZ0QRthp0_zaAR0Wr9udQiJ6euvtxwIgM9NtL0zlrhj9Rw6bYcuK9YKffD_wHN46fvrAo8lISBcYhv2HqAvURfzvmjfTy0FAvvh");'>
                </div>
            </div>
            <div class="relative text-center z-10 text-dark p-8 pt-[5rem] max-w-4xl mx-auto">
                <h1 class="text-4xl sm:text-5xl md:text-6xl font-bold tracking-tight leading-tight mb-4">
                    Plongez au Cœur de l'Océan
                </h1>
                <p class="text-base sm:text-lg md:text-xl max-w-2xl mx-auto mb-8 font-light text-dark">
                    Découvrez notre projet dédié à la préservation des écosystèmes marins. Explorez nos données,
                    visualisez l'impact de nos actions et rejoignez-nous dans cette aventure aquatique.
                </p>
                <div class="flex flex-wrap gap-4 justify-center">

                    <button
                        class="btn-liquid relative overflow-hidden group px-6 h-12 flex items-center justify-center rounded-lg bg-primary text-white text-base font-bold shadow-lg transition-colors">
                        <span class="relative z-10 group-hover:text-primary transition-colors duration-300">Carte
                            Interactive</span>
                    </button>

                    <a href="graph.html"
                        class="btn-liquid relative overflow-hidden group px-6 h-12 flex items-center justify-center rounded-lg bg-primary dark:bg-background-dark/20 text-white text-base font-bold dark:hover:bg-background-dark/30 transition-colors">
                        <span
                            class="relative z-10 group-hover:text-primary dark:group-hover:text-white transition-colors duration-300">Graphiques</span>
                    </a>

                </div>
            </div>
        </main>
    </div>

    <script src="https://unpkg.com/@barba/core"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

    <script>
        barba.init({
            sync: true,
            transitions: [{
                name: 'transition-curtain',

                // C'est ici que se joue l'animation d'ouverture
                once(data) {
                    const tl = gsap.timeline();

                    // 1. Le texte AquaVision glisse de derrière le logo (vers la droite)
                    tl.to("#splash-text", {
                        x: 0,
                        opacity: 1,
                        duration: 1.2,
                        ease: "power3.out",
                        delay: 0.2
                    })

                        // 2. Le groupe (Logo + Texte) se déplace vers le haut gauche et rétrécit
                        // Nous calculons approximativement pour matcher la position du header
                        .to("#splash-content", {
                            top: "32px",   // Position verticale finale (ajustez selon votre padding header)
                            left: "180px",  // Position horizontale finale
                            x: 0,          // Reset du centrage flex
                            y: 0,
                            scale: 0.5,    // Réduction de taille (Logo 16 -> 8, Text 4xl -> xl)
                            position: "fixed", // On sort du flux centré
                            transformOrigin: "left center", // Important pour que ça aille à gauche
                            duration: 1,
                            ease: "power3.inOut"
                        }, "+=0.3") // Petit délai avant de bouger

                        // En même temps, on déplace le conteneur parent pour qu'il ne soit plus centré
                        .to("#splash-screen", {
                            justifyContent: "flex-start",
                            alignItems: "flex-start",
                            padding: 0,
                            duration: 1,
                            ease: "power3.inOut"
                        }, "<") // "<" signifie "commence en même temps que l'anim précédente"

                        // 3. Transition fluide : On fait disparaître le splash et apparaître le vrai header
                        .to("#splash-screen", {
                            opacity: 0,
                            duration: 0.5,
                            pointerEvents: "none", // Pour pouvoir cliquer dessous
                            onComplete: () => {
                                document.getElementById('splash-screen').style.display = 'none';
                            }
                        })
                        .to("#site-header", {
                            opacity: 1,
                            duration: 0.5
                        }, "<") // Le header apparaît pendant que le splash disparaît (seamless)

                        // 4. Apparition du contenu principal (Hero)
                        .to("#hero-content", {
                            opacity: 1,
                            y: 0,
                            duration: 0.8,
                            ease: "power2.out"
                        }, "-=0.3");
                },

                // Vos transitions de page existantes
                leave(data) {
                    const done = this.async();
                    gsap.to('.transition-strip', {
                        scaleY: 1,
                        transformOrigin: 'top',
                        stagger: { each: 0.08, from: "random" },
                        duration: 0.8,
                        ease: 'power3.inOut',
                        onComplete: done
                    });
                },
                enter(data) {
                    // Important : Assurez-vous que le header/main sont visibles lors des transitions normales
                    gsap.set("#site-header, #hero-content", { opacity: 1 });

                    gsap.set('.transition-strip', { transformOrigin: 'bottom', scaleY: 1 });
                    gsap.to('.transition-strip', {
                        scaleY: 0,
                        stagger: { each: 0.05, from: "end" },
                        duration: 0.8,
                        delay: 0.1,
                        ease: 'power3.inOut'
                    });
                }
            }]
        });

        // --- ANIMATION BOUTONS LIQUIDE (STYLE GSAP) ---
        const buttons = document.querySelectorAll('.btn-liquid');

        buttons.forEach(btn => {
            // 1. Création dynamique de l'élément "cercle" qui va grandir
            const circle = document.createElement('span');
            circle.className = "absolute bg-white rounded-full pointer-events-none -translate-x-1/2 -translate-y-1/2";

            // On le rend assez grand pour couvrir tout le bouton (diamètre = largeur * 2.5)
            const diameter = Math.max(btn.clientWidth, btn.clientHeight) * 2.5;
            circle.style.width = `${diameter}px`;
            circle.style.height = `${diameter}px`;

            // Au départ, il est invisible (scale 0)
            gsap.set(circle, { scale: 0, opacity: 1 });

            // On l'ajoute au bouton
            btn.appendChild(circle);

            // 2. Événement Entrée de souris
            btn.addEventListener('mouseenter', (e) => {
                // On récupère la position de la souris relative au bouton
                const rect = btn.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;

                // On place le cercle sous la souris et on le fait grandir
                gsap.fromTo(circle,
                    { x: x, y: y, scale: 0 },
                    { scale: 1, duration: 0.4, ease: "power2.out" }
                );
            });

            // 3. Événement Sortie de souris
            btn.addEventListener('mouseleave', (e) => {
                // On récupère la position de sortie
                const rect = btn.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;

                // On déplace le cercle vers la sortie tout en le rétrécissant
                gsap.to(circle, {
                    x: x,
                    y: y,
                    scale: 0,
                    duration: 0.4,
                    ease: "power2.in"
                });
            });
        });

    </script>
</body>

</html>